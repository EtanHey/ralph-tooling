{
  "id": "MP-001",
  "title": "Consolidate CLAUDE.md files into modular context system",
  "description": "Extract common patterns from 26 CLAUDE.md files (7,864 lines total) into a modular context system. Create base.md for universal rules, tech-specific contexts (nextjs.md, convex.md, supabase.md), and a migration wizard. Projects then reference shared contexts instead of duplicating rules.",
  "type": "infrastructure",
  "priority": "high",
  "storyPoints": 8,
  "status": "pending",
  "acceptanceCriteria": [
    {"text": "Analyze all 26 CLAUDE.md files and extract common patterns", "checked": true},
    {"text": "Create ~/.claude/contexts/ directory structure", "checked": true},
    {"text": "Create base.md with universal rules (git, commits, no push, etc.)", "checked": true},
    {"text": "Create tech contexts: nextjs.md, convex.md, supabase.md, react-native.md", "checked": true},
    {"text": "Create workflow contexts: rtl.md, testing.md, debugging.md", "checked": true},
    {"text": "Document context inheritance: base + tech + workflow = full context", "checked": true},
    {"text": "Create migration script: analyze project CLAUDE.md â†’ suggest contexts", "checked": true},
    {"text": "Migration script shows diff: what gets removed vs kept as project-specific", "checked": true},
    {"text": "Test: Migrate one project (ralphtools) as proof of concept", "checked": true},
    {"text": "Test: Migrate domica (complex, multi-app) as stress test", "checked": true},
    {"text": "Create ralph-migrate-contexts command for wizard-style migration", "checked": true},
    {"text": "Update project CLAUDE.mds to reference shared contexts", "checked": true},
    {"text": "Document how to add new shared contexts", "checked": true},
    {"text": "Verify: After migration, Claude behavior unchanged", "checked": true},
    {"text": "Verify: Total context size reduced (measure before/after)", "checked": true}
  ],
  "dependencies": [],
  "passes": true
}
