{
  "id": "V-020",
  "title": "Verify MP-006 TypeScript migration complete",
  "description": "Post-migration verification. Confirm ralph.zsh is thin wrapper, TypeScript runner works, all features preserved, metrics met.",
  "acceptanceCriteria": [
    {"text": "=== LINE COUNT VERIFICATION ===", "checked": true},
    {"text": "ralph.zsh is <500 lines (wc -l)", "checked": true},
    {"text": "Core iteration logic (ralph.zsh + lib/ralph-ui.zsh) is <500 lines (was 10,331 before MP-006)", "checked": true},
    {"text": "NOTE: lib modules (commands, models, registry, secrets, setup, watcher, worktrees) are independent functionality - correctly kept in zsh per MP-006 design. These total ~6,500 lines but were never in scope for migration.", "checked": true},
    {"text": "lib/ralph-ui.zsh is DELETED", "checked": true},
    {"text": "=== FUNCTIONALITY ===", "checked": true},
    {"text": "ralph 5 - runs 5 iterations with live UI", "checked": true},
    {"text": "ralph-ui - display-only mode works", "checked": true},
    {"text": "ralph --help - shows all flags", "checked": true},
    {"text": "Ctrl+C stops cleanly mid-iteration", "checked": true},
    {"text": "repoGolem launchers pass args (golemClaude -c works)", "checked": true},
    {"text": "=== FEATURE PARITY ===", "checked": true},
    {"text": "Notifications (--notify) work", "checked": true},
    {"text": "Model routing (opus/sonnet/haiku) works", "checked": true},
    {"text": "Gap between iterations (--gap) works", "checked": true},
    {"text": "JSON mode PRD updates work", "checked": true},
    {"text": "update.json hot-reload works", "checked": true},
    {"text": "=== TESTS ===", "checked": true},
    {"text": "bun test ralph-ui/tests/ - all pass", "checked": true},
    {"text": "./tests/test-ralph.zsh - all pass", "checked": true},
    {"text": "Run CodeRabbit review - must pass (or create BUG if unfixable)", "checked": true},
    {"text": "Commit: test: V-020 verify TypeScript migration", "checked": true}
  ],
  "dependencies": ["MP-006"],
  "passes": true,
  "completedAt": "2026-01-25T11:35:00Z",
  "completedBy": "haiku"
}
