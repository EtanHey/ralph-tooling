{
  "id": "BUG-004",
  "title": "Display stats don't refresh after update.json merge",
  "description": "After applying update.json, remaining_stats shows correct values (e.g., '1 8') but the visual progress bar shows old cached totals (13/13 instead of 13/15). Stats displayed in boxes should recalculate immediately after merge.",
  "acceptanceCriteria": [
    {
      "text": "After _ralph_apply_updates(), re-read index.json stats",
      "checked": true
    },
    {
      "text": "Update local variables: total_stories, completed_stories, pending_count",
      "checked": true
    },
    {
      "text": "Progress bar denominator uses fresh total, not cached",
      "checked": true
    },
    {
      "text": "Test: Add 2 stories mid-run, verify display shows X/(X+2) immediately",
      "checked": true
    },
    {
      "text": "Typecheck passes (zsh -n ralph.zsh)",
      "checked": true
    }
  ],
  "passes": true,
  "blockedBy": null
}
