{
  "id": "AUDIT-002",
  "title": "Audit ralph.zsh before TypeScript migration",
  "description": "Research audit before MP-006. Catalog all functions, identify what stays in zsh vs moves to TypeScript, document dependencies and gotchas. Output: docs.local/audit-ralph-zsh.md",
  "acceptanceCriteria": [
    {"text": "=== CATALOG ===", "checked": true},
    {"text": "List all functions in ralph.zsh with line counts", "checked": true},
    {"text": "List all functions in lib/*.zsh with line counts", "checked": true},
    {"text": "Identify the core iteration loop (start/end lines)", "checked": true},
    {"text": "=== ANALYSIS ===", "checked": true},
    {"text": "Document what MUST stay in zsh (shell integration, sourcing)", "checked": true},
    {"text": "Document what SHOULD move to TypeScript (iteration, UI, PRD)", "checked": true},
    {"text": "Document inter-function dependencies (call graph)", "checked": true},
    {"text": "Identify shell-specific features used (traps, job control, etc)", "checked": true},
    {"text": "=== RISKS ===", "checked": true},
    {"text": "List potential breaking changes", "checked": true},
    {"text": "List edge cases in current iteration loop", "checked": true},
    {"text": "Document retry logic, error handling patterns", "checked": true},
    {"text": "=== OUTPUT ===", "checked": true},
    {"text": "Create docs.local/audit-ralph-zsh.md with all findings", "checked": true},
    {"text": "Include recommended migration order", "checked": true},
    {"text": "Include line count targets for each file post-migration", "checked": true},
    {"text": "Run CodeRabbit review - must pass (or create BUG if unfixable)", "checked": true},
    {"text": "Commit: docs: AUDIT-002 ralph.zsh audit before TS migration", "checked": true}
  ],
  "dependencies": [],
  "passes": true,
  "completedAt": "2026-01-25T04:20:00Z",
  "completedBy": "opus"
}
